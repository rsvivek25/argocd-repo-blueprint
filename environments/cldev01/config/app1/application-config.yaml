apiVersion: v1
kind: ConfigMap
metadata:
  name: app1-application-config
  namespace: cldev01
  labels:
    app: app1
    environment: cldev01
    managed-by: devops-pipeline
  annotations:
    description: "Application configuration generated by DevOps pipeline"
    pipeline.run: "BUILD-12345"
    generated.at: "2025-11-12T10:30:00Z"
data:
  # Application-specific configuration
  application.yaml: |
    app:
      name: app1
      environment: cldev01
      version: "1.0.0"
    
    database:
      host: dev-database.cldev01.svc.cluster.local
      port: 5432
      name: app1_dev
      pool:
        min: 2
        max: 10
        timeout: 30s
    
    cache:
      enabled: true
      ttl: 300
      type: redis
      host: redis.cldev01.svc.cluster.local
    
    features:
      newUI: false
      betaFeatures: true
      analytics: false
    
    logging:
      level: debug
      format: json
      destinations:
        - console
        - file
    
    security:
      cors:
        enabled: true
        origins:
          - "http://localhost:3000"
          - "https://cldev01.example.com"
      rateLimit:
        enabled: false
        requestsPerMinute: 1000
  
  # Environment-specific endpoints
  endpoints.properties: |
    api.base.url=http://api.cldev01.svc.cluster.local
    auth.service.url=http://auth.cldev01.svc.cluster.local
    payment.gateway.url=https://sandbox.payment-provider.com
    notification.service.url=http://notifications.cldev01.svc.cluster.local
  
  # Feature flags
  features.json: |
    {
      "featureFlags": {
        "enableNewCheckout": false,
        "enableRecommendations": true,
        "enableABTesting": false,
        "enableAdvancedSearch": true
      }
    }
